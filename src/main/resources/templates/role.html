{#include layout title=role.name}
    {#content}
        <nav class="breadcrumb">
            <a href="/">Home</a> &gt;
            <span>{role.name}</span>
        </nav>

        <hgroup>
            <h1>{role.name}</h1>
            <p>{role.description}</p>
        </hgroup>

        {#if nextRoles && nextRoles.size() > 0}
        <section>
            <h3>Career Progression</h3>
            <p>This role can progress to:</p>
            <div class="next-roles">
                {#for nextRole in nextRoles}
                <a href="/roles/{nextRole.id}" class="next-role-link">{nextRole.name}</a>
                <a href="/compare?from={role.id}&to={nextRole.id}"
                   class="outline"
                   style="padding: 0.5rem 1rem; font-size: 0.875rem;">
                    Compare with {nextRole.name}
                </a>
                {/for}
            </div>
        </section>
        {/if}

        {#if previousRoles && previousRoles.size() > 0}
        <section>
            <h4>Comes from:</h4>
            <div class="next-roles">
                {#for prevRole in previousRoles}
                <a href="/roles/{prevRole.id}"
                   class="outline"
                   style="padding: 0.5rem 1rem; font-size: 0.875rem;">{prevRole.name}</a>
                {/for}
            </div>
        </section>
        {/if}

        <hr>

        <section>
            <h2>Required Competencies</h2>

            <div id="categories-container"
                 hx-get="/roles/{role.id}/categories"
                 hx-trigger="load"
                 hx-swap="innerHTML">
                <p aria-busy="true">Loading competencies...</p>
            </div>
        </section>
    {/content}
{/include}
